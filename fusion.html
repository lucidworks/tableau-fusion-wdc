<!DOCTYPE html>
<html lang="en">
<head>
  <title>Lucidworks Fusion</title>
  <meta http-equiv="Cache-Control" content="no-store" />
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  <script src="https://connectors.tableau.com/libs/tableauwdc-2.1.latest.js" type="text/javascript"></script>
  <script src="./Examples/js/es6-promise.min.js" type="text/javascript"></script>
  <script src="./oboe-browser.min.js" type="text/javascript"></script>
  <script src="./fusion.js" type="text/javascript"></script>
  <style>
    .fusion-logo {
      height: 50px;
      margin-bottom: 2em;
    }
    /* The table style does NOT WORK yet */
    /*table {
      height: 300px;
    }
    tbody {
      height: 120px;
      overflow-y: auto;
    }*/
  </style>
</head>
<body>
  <div class="container container-table">
    <!-- Logo -->
    <img src="./fusion_lw.png" class="img-responsive center-block fusion-logo">

    <form id="connectorForm" class="form-horizontal" role="form" action="">
      <!-- Show Advanced Options -->
      <div class="form-group">
        <div class="col-sm-offset-3 col-sm-4 checkbox">
          <label>
            <input type="checkbox" id="showAdvanced">Show Advanced Options
          </label>
        </div>
      </div>

      <!-- Fusion URL -->
      <div class="form-group">
        <label for="fusionUrl" class="col-sm-3 control-label">Fusion URL</label>
        <div class="col-sm-6">
          <input type="url" class="form-control" id="fusionUrl" value="http://localhost:8764">
        </div>
      </div>

      <!-- Login  -->
      <div class="form-group">
        <label for="fusionUsername" class="col-sm-3 control-label">Fusion Username</label>
        <div class="col-sm-4">
          <input type="text" class="form-control" id="fusionUsername" placeholder="Username">
        </div>
      </div>
      <div class="form-group">
        <label for="fusionPassword" class="col-sm-3 control-label">Password</label>
        <div class="col-sm-4">
          <input type="password" class="form-control" id="fusionPassword" placeholder="Password">
        </div>
      </div>
      
      <!-- Load Fusion Tables Button -->
      <div class="form-group">
        <div class="col-sm-offset-3 col-sm-3">
          <button type="button" id="loadTablesButton" class="btn btn-success">Load Fusion Tables</button>
        </div>
      </div>

      <!-- Fusion Tables List -->
      <div class="form-group">
        <table class="table table-bordered table-striped table-hover">
          <thead>
            <th><input type="checkbox" id="selectAllTablesCheckbox" checked></th>
            <th>Table</th>
            <th>Format</th>
            <th>Total Rows</th>
            <th>Filters</th>
            <th>Sample %</th>
            <th>Max Rows to Load</th>
          </thead>
          <tbody id="fusionTables"></tbody>
        </table>
      </div>

      <!-- Advanced Option: Custom Query  -->
      <div class="advanced-options" style="display: none;">
        <div class="form-group">
          <label for="customQuery" class="col-sm-3 control-label">SQL or Streaming Expression</label>
          <div class="col-sm-8">
            <textarea class="form-control" id="customQuery" rows="4"></textarea>
          </div>
        </div>
        <div class="form-group">
          <label for="customQueryName" class="col-sm-3 control-label">Cache Results as</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" id="customQueryName" placeholder="Type a table name here">
          </div>
          <div class="col-sm-2">
            <button type="button" id="executeQueryButton" class="btn btn-primary">
              Execute
            </button>
          </div>
          <div class="col-sm-2">
            <div class="label label-success" style="display: none;" id="executeQuerySuccess">Success!</div>
            <div class="label label-danger" style="display: none;" id="executeQueryFailure">Error!</div>
          </div>
        </div>
        <div class="form-group">
          <label for="maxRows" class="col-sm-3 control-label">Max Rows</label>
          <div class="col-sm-4">
            <input type="text" class="form-control" id="maxRows" value="10000">
          </div>
        </div>
      </div>

      <div class="form-group">
        <div class="col-sm-offset-3 col-sm-2">
          <button type="button" id="submitButton" class="btn btn-success">Done</button>
        </div>
      </div>
    </form>
  </div>
</body>
</html>
